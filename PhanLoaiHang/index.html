<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hệ thống kho Shopee</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #f4f6f9;
      margin: 0;
      transition: background-color 0.3s ease, color 0.3s ease;
    }
    body.dark-mode {
      background-color: #1a1a1a;
      color: #ffffff;
    }
    header {
      background: linear-gradient(to right, #673ab7, #9c27b0);
      color: white;
      padding: 20px;
      text-align: center;
    }
    nav {
      background-color: #333;
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
    }
    nav a {
      margin: 6px;
      padding: 12px 16px;
      background: linear-gradient(to right, #3f51b5, #673ab7);
      border-radius: 8px;
      color: white;
      text-decoration: none;
      font-weight: 500;
      transition: transform 0.2s ease;
    }
    nav a:hover {
      transform: scale(1.05);
      box-shadow: 0 2px 10px rgba(0,0,0,0.3);
    }
    .logout {
      background: linear-gradient(to right, #f44336, #d32f2f);
    }
    .logout:hover {
      background: linear-gradient(to right, #d32f2f, #b71c1c);
    }
    main {
      padding: 30px 20px;
      max-width: 900px;
      margin: auto;
    }
    .source-card {
      background-color: white;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      text-align: center;
      margin-bottom: 20px;
    }
    body.dark-mode .source-card {
      background-color: #333;
    }
    .source-card h2, .source-card h3 {
      color: #ff5722;
      margin-bottom: 10px;
    }
    .source-card p {
      font-size: 16px;
      color: #444;
      line-height: 1.6;
    }
    body.dark-mode .source-card p {
      color: #ddd;
    }
    .source-card video {
      width: 100%;
      max-width: 700px;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.2);
    }
    .login-buttons a, .manage-orders a {
      display: inline-block;
      margin: 10px;
      padding: 10px 20px;
      background-color: #2196f3;
      color: white;
      text-decoration: none;
      border-radius: 6px;
      transition: background-color 0.3s, transform 0.2s ease;
    }
    .login-buttons a:hover, .manage-orders a:hover {
      background-color: #0b7dda;
      transform: scale(1.05);
    }
    .chat-toggle, .sidebar-toggle {
      position: fixed;
      bottom: 20px;
      width: 60px;
      height: 60px;
      font-size: 28px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      box-shadow: 0 2px 6px rgba(0,0,0,0.2);
      z-index: 1001;
      border: none;
      border-radius: 50%;
      transition: background-color 0.3s ease;
    }
    .chat-toggle {
      right: 20px;
      background-color: #ff5722;
      color: white;
    }
    .chat-toggle:hover {
      background-color: #d84315;
    }
    .sidebar-toggle {
      right: 90px;
      background-color: #4caf50;
      color: white;
    }
    .sidebar-toggle:hover {
      background-color: #388e3c;
    }
    .chat-options, .sidebar {
      position: fixed;
      bottom: 90px;
      right: 20px;
      display: none;
      flex-direction: column;
      gap: 10px;
      z-index: 1000;
    }
    .chat-options a, .sidebar a {
      background-color: #fff;
      color: #333;
      text-decoration: none;
      padding: 10px 15px;
      border-radius: 6px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.15);
      font-size: 14px;
    }
    body.dark-mode .chat-options a, body.dark-mode .sidebar a {
      background-color: #333;
      color: #ddd;
    }
    .chat-options a:hover, .sidebar a:hover {
      background-color: #f1f1f1;
    }
    body.dark-mode .chat-options a:hover, body.dark-mode .sidebar a:hover {
      background-color: #444;
    }
    footer {
      background-color: #222;
      color: white;
      text-align: center;
      padding: 10px;
      margin-top: 40px;
    }
    #theme-toggle {
      position: fixed;
      top: 20px;
      right: 20px;
      padding: 10px 20px;
      background-color: #ff5722;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    @media (max-width: 600px) {
      nav {
        flex-direction: column;
        align-items: center;
      }
      nav a {
        width: 90%;
        text-align: center;
      }
      .login-buttons a, .manage-orders a {
        display: block;
        width: 80%;
        margin: 10px auto;
      }
      .chat-toggle, .sidebar-toggle {
        bottom: 10px;
      }
      .chat-options, .sidebar {
        bottom: 70px;
        width: 90%;
      }
    }
  </style>
</head>
<body>
  <button id="theme-toggle"><i class="fas fa-moon"></i></button>
  <header>
    <h1>HỆ THỐNG KHO PHÂN LOẠI SHOPEE</h1>
  </header>
  <nav>
    <a href="index.html"><i class="fas fa-home"></i> Trang chủ</a>
    <a href="#" id="nguonhang-link"><i class="fas fa-box"></i> Nguồn hàng</a>
    <a href="#" id="tracuu-link"><i class="fas fa-search"></i> Tra cứu</a>
    <a href="#" id="tinhtien-link"><i class="fas fa-calculator"></i> Tính tiền</a>
    <a href="lienhe.html"><i class="fas fa-envelope"></i> Liên hệ</a>
    <a href="#" id="logout-link" class="logout" style="display: none;"><i class="fas fa-sign-out-alt"></i> Đăng xuất</a>
  </nav>
  <main>
    <div class="source-card">
      <video controls>
        <source src="54a61a0c-b4df-43cc-bf0c-ffecde3b45e6.mp4" type="video/mp4">
        Trình duyệt của bạn không hỗ trợ thẻ video.
      </video>
    </div>
    <div class="source-card">
      <h3>Chọn khu vực truy cập</h3>
      <div class="login-buttons">
        <a href="dangnhap_quanly.html"><i class="fas fa-user-shield"></i> Trang quản lý</a>
        <a href="dangnhap_khachhang.html"><i class="fas fa-user"></i> Dành cho Khách hàng</a>
      </div>
    </div>
    <div class="source-card">
      <h3>Trang quản lý</h3>
      <div class="manage-orders">
        <a href="donhang.html"><i class="fas fa-clipboard-list"></i> Vào trang quản lý đơn hàng</a>
      </div>
    </div>
  </main>
  <button class="chat-toggle" onclick="toggleChatOptions()"><i class="fas fa-comment"></i></button>
  <div class="chat-options" id="chatOptions">
    <a href="https://www.facebook.com/quang.khoi.le.875150/" target="_blank">Liên hệ qua Facebook</a>
    <a href="tel:0328516027">Gọi trực tiếp: 0328 516 027</a>
  </div>
  <button class="sidebar-toggle" onclick="toggleSidebar()"><i class="fas fa-bars"></i></button>
  <div class="sidebar" id="sidebar">
    <a href="index.html"><i class="fas fa-home"></i> Trang chủ</a>
    <a href="#" id="sidebar-nguonhang-link"><i class="fas fa-box"></i> Nguồn hàng</a>
    <a href="#" id="sidebar-tracuu-link"><i class="fas fa-search"></i> Tra cứu</a>
    <a href="lienhe.html"><i class="fas fa-envelope"></i> Liên hệ</a>
  </div>
  <footer>
    © 2025 Hệ thống kho thông minh - Thiết kế bởi Khoi LQ
  </footer>
  <script>
    document.getElementById('theme-toggle').addEventListener('click', () => {
      document.body.classList.toggle('dark-mode');
      const icon = document.querySelector('#theme-toggle i');
      icon.classList.toggle('fa-moon');
      icon.classList.toggle('fa-sun');
    });

    function toggleChatOptions() {
      const options = document.getElementById('chatOptions');
      options.style.display = options.style.display === 'flex' ? 'none' : 'flex';
    }

    // Toggle sidebar
    function toggleSidebar() {
      const sidebar = document.getElementById('sidebar');
      sidebar.style.display = sidebar.style.display === 'flex' ? 'none' : 'flex';
    }

    // Check login status and handle navigation
    window.onload = () => {
      const isCustomerLoggedIn = sessionStorage.getItem('isCustomerLoggedIn') === 'true' || localStorage.getItem('isCustomerLoggedIn') === 'true';
      const isAdminLoggedIn = sessionStorage.getItem('isAdminLoggedIn') === 'true' || localStorage.getItem('isAdminLoggedIn') === 'true';
      const logoutLink = document.getElementById('logout-link');
      const nguonhangLink = document.getElementById('nguonhang-link');
      const tracuuLink = document.getElementById('tracuu-link');
      const tinhtienLink = document.getElementById('tinhtien-link');
      const sidebarNguonhangLink = document.getElementById('sidebar-nguonhang-link');
      const sidebarTracuuLink = document.getElementById('sidebar-tracuu-link');

      if (isCustomerLoggedIn || isAdminLoggedIn) {
        logoutLink.style.display = 'block';
        nguonhangLink.href = 'nguonhang.html';
        tracuuLink.href = 'tracuu.html';
        tinhtienLink.href = 'tinhtien.html';
        sidebarNguonhangLink.href = 'nguonhang.html';
        sidebarTracuuLink.href = 'tracuu.html';
      } else {
        logoutLink.style.display = 'none';
        nguonhangLink.href = 'dangnhap_khachhang.html';
        tracuuLink.href = 'dangnhap_khachhang.html';
        tinhtienLink.href = 'dangnhap_khachhang.html';
        sidebarNguonhangLink.href = 'dangnhap_khachhang.html';
        sidebarTracuuLink.href = 'dangnhap_khachhang.html';

        // Thêm sự kiện click để hiển thị thông báo
        [nguonhangLink, tracuuLink, tinhtienLink, sidebarNguonhangLink, sidebarTracuuLink].forEach(link => {
          link.addEventListener('click', (e) => {
            if (!isCustomerLoggedIn && !isAdminLoggedIn) {
              e.preventDefault();
              alert('Vui lòng đăng nhập để truy cập trang này!');
            }
          });
        });
      }

      // Logout functionality
      logoutLink.addEventListener('click', (e) => {
        e.preventDefault();
        sessionStorage.removeItem('isCustomerLoggedIn');
        sessionStorage.removeItem('isAdminLoggedIn');
        localStorage.removeItem('isCustomerLoggedIn');
        localStorage.removeItem('isAdminLoggedIn');
        localStorage.removeItem('rememberMeCustomer');
        localStorage.removeItem('savedContactCustomer');
        localStorage.removeItem('rememberMe');
        localStorage.removeItem('savedContact');
        alert('Đăng xuất thành công!');
        location.reload();
      });
    };
  </script>
</body>
</html>